{%extends 'posts/base.html'%} 
{% load static %}

{% block container %}

<div  class="m-5" >
  <div class="container"  >
 

    <div class="row m-5" align="center">
  
      {% for post in object_list %}

      <div class="card m-3" style="width: 18rem">
       

        <a href="{% url 'postinfo' post.id %}"><img
          src="{{post.get_image_url}}"
          class="card-img-top"
          alt="postcover"
        /></a>
        <div class="card-body">
          <h4 class="card-title btn btn-outline-info mb-4">{{post.user}}</h4>
          <h5 class="card-title">{{post.title}}</h5>
          <p class="card-text">{{post.content|slice:":400"}}</p>
          {% for tag in post.tags.all %}
          <a href="{% url 'posts_by_tags' tag.slug %}">{{tag.name}}</a>
       {% comment %} <p class="">{{tag}}</p> {% endcomment %}
          {% endfor %}
        </div>
      </div>
       
      {% endfor %}
      <div class="m-5" >
      {% if is_paginated %}
      {% if page_obj.has_previous %}
        {% comment %} 
        <a href="?page=1"class="btn btn-outline-info mb-4">First</a>{% endcomment %}
        <a href="?page={{page_obj.previous_page_number}}"class="btn btn-outline-info mb-4">Previous</a>
        {% endif%} 
        {% for num in page_obj.paginator.page_range %}
           {% if page_obj.number == num %}
          
              <a href="?page={{num}}"class="btn btn-info mb-4">{{num}}</a>
              {% elif  num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
          
              <a href="?page={{num}}"class="btn btn-outline-info mb-4">{{num}}</a>
           {% endif%}

        {% endfor %}
         {% if page_obj.has_next %}
        <a href="?page={{page_obj.next_page_number}}"class="btn btn-outline-info mb-4">Next</a>
        {% endif%}{% comment %}<a href="?page={{page_obj.paginator.num_pages}}"class="btn btn-outline-info mb-4">Last</a>
         {% endcomment %}
      {% endif%}
    </div>
    </div>
  </div>
</div>
{% comment %} <div > 
  <div class="card m-5" style="width: 14rem;position:relative ;top:-400px;left:1000px;">
    {% for post in object_list %}
    <ul>
      {% for p in post.category_id.cat_post.all %}
          
      <li class=" m-2 text-info"><a href="{{p.show_url}}">{{p}}<a></li>
      
      {% endfor%}
      </ul>
      {% endfor%}
    </div>
  </div>
  
</div> {% endcomment %}

 {% comment %} <div > 
  <div class="card m-5" style="width: 14rem;position:relative ;top:-600px;left:1000px;">
    
    <ul>
      {% for cat in cat_menu %}
          
      <li class=" m-2 text-info"><a href="#">{{cat}}<a></li>
      
      {% endfor%}
      </ul>
    </div>
  </div>
  
</div>
<div >   {% endcomment %}

  <div class="card m-5" style="width: 14rem;position:relative ;top:-750px;left:1000px;">
    
    <ul>
      <li class=" m-5 text-info"><a href="{%url 'topPosts' %}">Top Rated Posts<a></li>
      {% for cat in cat_menu %}
      
       {% for l in cat.cat_post.all %}
       
       <li class=" m-5 text-info"><a href="{{l.show_url_cat}}">{{cat}}<a></li>
  
    {% endfor%}
    {% endfor%}
    </ul>
  </div>

  
{% endblock %}

  
   
